<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Hoofdstuk 4 Inlezen van gegevens | A Data Science Introduction</title>
  <meta name="description" content="This is an opiniotated data science introduction" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Hoofdstuk 4 Inlezen van gegevens | A Data Science Introduction" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is an opiniotated data science introduction" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Hoofdstuk 4 Inlezen van gegevens | A Data Science Introduction" />
  
  <meta name="twitter:description" content="This is an opiniotated data science introduction" />
  

<meta name="author" content="Hans Weda" />


<meta name="date" content="2022-12-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cross.html"/>
<link rel="next" href="footnotes-and-citations.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> url: your book url like <span>https://bookdown.org/yihui/bookdown</span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#usage"><i class="fa fa-check"></i><b>1.1</b> Usage</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#render-book"><i class="fa fa-check"></i><b>1.2</b> Render book</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#preview-book"><i class="fa fa-check"></i><b>1.3</b> Preview book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="hello-bookdown.html"><a href="hello-bookdown.html"><i class="fa fa-check"></i><b>2</b> Hello bookdown</a>
<ul>
<li class="chapter" data-level="2.1" data-path="hello-bookdown.html"><a href="hello-bookdown.html#a-section"><i class="fa fa-check"></i><b>2.1</b> A section</a>
<ul>
<li class="chapter" data-level="" data-path="hello-bookdown.html"><a href="hello-bookdown.html#an-unnumbered-section"><i class="fa fa-check"></i>An unnumbered section</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>3</b> Cross-references</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cross.html"><a href="cross.html#chapters-and-sub-chapters"><i class="fa fa-check"></i><b>3.1</b> Chapters and sub-chapters</a></li>
<li class="chapter" data-level="3.2" data-path="cross.html"><a href="cross.html#captioned-figures-and-tables"><i class="fa fa-check"></i><b>3.2</b> Captioned figures and tables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="inlezen-van-gegevens.html"><a href="inlezen-van-gegevens.html"><i class="fa fa-check"></i><b>4</b> Inlezen van gegevens</a>
<ul>
<li class="chapter" data-level="4.1" data-path="inlezen-van-gegevens.html"><a href="inlezen-van-gegevens.html#inlezen-van-csv-bestanden"><i class="fa fa-check"></i><b>4.1</b> Inlezen van csv-bestanden</a></li>
<li class="chapter" data-level="4.2" data-path="inlezen-van-gegevens.html"><a href="inlezen-van-gegevens.html#gebruik-van-api"><i class="fa fa-check"></i><b>4.2</b> Gebruik van api</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html"><i class="fa fa-check"></i><b>5</b> Footnotes and citations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#footnotes"><i class="fa fa-check"></i><b>5.1</b> Footnotes</a></li>
<li class="chapter" data-level="5.2" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#citations"><i class="fa fa-check"></i><b>5.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>6</b> Blocks</a>
<ul>
<li class="chapter" data-level="6.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>6.1</b> Equations</a></li>
<li class="chapter" data-level="6.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>6.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="6.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>6.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>7</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>7.1</b> Publishing</a></li>
<li class="chapter" data-level="7.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>7.2</b> 404 pages</a></li>
<li class="chapter" data-level="7.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>7.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Data Science Introduction</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="inlezen-van-gegevens" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Hoofdstuk 4</span> Inlezen van gegevens<a href="inlezen-van-gegevens.html#inlezen-van-gegevens" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Bij data science gaat het over data. Het is daarom belangrijk om data te kunnen inlezen. Binnen R zijn er diverse methoden om data in te lezen. Dit hoofdstuk behandelt een aantal gangbare methoden.</p>
<div id="inlezen-van-csv-bestanden" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Inlezen van csv-bestanden<a href="inlezen-van-gegevens.html#inlezen-van-csv-bestanden" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="gebruik-van-api" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Gebruik van api<a href="inlezen-van-gegevens.html#gebruik-van-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Het is over het algemeen aan te bevelen om gebruik te maken van api’s om data binnen te lezen. Dit heeft namelijk een aantal voordelen:</p>
<ul>
<li>Het beperkt het aantal handelingen. Het is niet nodig om eerst handmatig de data te downloaden, ergens op te slaan en vervolgens in te lezen met R.</li>
<li>Het is eenvoudiger deelbaar en reproduceerbaar. Anderen hebben genoeg aan uw R code om het inlezen van de data te reproduceren. Het is niet nodig data-bestanden te delen of (uitgebreid) te beschrijven hoe de data gedownload moet worden.</li>
</ul>
<p>Indien mogelijk verdient het dan ook de voorkeur om via api’s de data in te lezen.</p>
<p>In de code hieronder wordt gebruik gemaakt van een api van het CBS. Deze api stelt gebruikers in staat om elke publieke data-tabel van het CBS automatisch te downloaden. Om gebruik te maken van deze api zou je zelf de juiste url met parameters kunnen samenstellen. Het is echter eenvoudiger om van het R-pakket <code>cbsodataR</code> gebruik te maken. Dat kan als volgt:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="inlezen-van-gegevens.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># inladen van het pakket</span></span>
<span id="cb1-2"><a href="inlezen-van-gegevens.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cbsodataR)</span>
<span id="cb1-3"><a href="inlezen-van-gegevens.html#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="inlezen-van-gegevens.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ophalen van de data</span></span>
<span id="cb1-5"><a href="inlezen-van-gegevens.html#cb1-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">cbs_get_data</span>(</span>
<span id="cb1-6"><a href="inlezen-van-gegevens.html#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="st">&quot;82332NED&quot;</span></span>
<span id="cb1-7"><a href="inlezen-van-gegevens.html#cb1-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-8"><a href="inlezen-van-gegevens.html#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="inlezen-van-gegevens.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># wat zit er in de data?</span></span>
<span id="cb1-10"><a href="inlezen-van-gegevens.html#cb1-10" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(df))</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="22%" />
<col width="6%" />
<col width="16%" />
<col width="19%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">LuchthavensCaribischNederland</th>
<th align="left">Perioden</th>
<th align="right">Vliegtuigbewegingen_1</th>
<th align="right">TotaalPassagiersvervoer_2</th>
<th align="right">AangekomenPassagiers_3</th>
<th align="right">VertrokkenPassagiers_4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A045912</td>
<td align="left">2012MM01</td>
<td align="right">2080</td>
<td align="right">33550</td>
<td align="right">17540</td>
<td align="right">16010</td>
</tr>
<tr class="even">
<td align="left">A045912</td>
<td align="left">2012MM02</td>
<td align="right">1930</td>
<td align="right">29710</td>
<td align="right">14980</td>
<td align="right">14730</td>
</tr>
<tr class="odd">
<td align="left">A045912</td>
<td align="left">2012MM03</td>
<td align="right">2200</td>
<td align="right">35170</td>
<td align="right">17240</td>
<td align="right">17930</td>
</tr>
<tr class="even">
<td align="left">A045912</td>
<td align="left">2012KW01</td>
<td align="right">6210</td>
<td align="right">98430</td>
<td align="right">49760</td>
<td align="right">48670</td>
</tr>
<tr class="odd">
<td align="left">A045912</td>
<td align="left">2012MM04</td>
<td align="right">2170</td>
<td align="right">34790</td>
<td align="right">17430</td>
<td align="right">17360</td>
</tr>
<tr class="even">
<td align="left">A045912</td>
<td align="left">2012MM05</td>
<td align="right">2220</td>
<td align="right">32580</td>
<td align="right">15790</td>
<td align="right">16780</td>
</tr>
</tbody>
</table>
<p>Deze data bevat de vluchtbewegingen van een aantal luchthavens in het Nederlands Caribische gebied. De codes zijn echter moeilijk interpreteerbaar. Dat geldt in mindere mate ook voor de datum. Het is daarom aan te bevelen om deze om te zetten naar kolommen die gemakkelijker door mensen gelezen en begrepen kunnen worden. Dat kan als volgt:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="inlezen-van-gegevens.html#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">cbs_add_label_columns</span>(df)</span>
<span id="cb2-2"><a href="inlezen-van-gegevens.html#cb2-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">cbs_add_date_column</span>(df)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="inlezen-van-gegevens.html#cb3-1" aria-hidden="true" tabindex="-1"></a>df.plot <span class="ot">&lt;-</span> df[<span class="fu">grepl</span>(<span class="st">&quot;Bonaire&quot;</span>, df<span class="sc">$</span>LuchthavensCaribischNederland_label),]</span>
<span id="cb3-2"><a href="inlezen-van-gegevens.html#cb3-2" aria-hidden="true" tabindex="-1"></a>df.plot <span class="ot">&lt;-</span> df.plot[df.plot<span class="sc">$</span>Perioden_freq<span class="sc">==</span><span class="st">&quot;M&quot;</span>,]</span>
<span id="cb3-3"><a href="inlezen-van-gegevens.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df.plot<span class="sc">$</span>Perioden_Date, df.plot<span class="sc">$</span>TotaalPassagiersvervoer_2, <span class="at">type=</span><span class="st">&quot;l&quot;</span>)</span></code></pre></div>
<p><img src="data_science_book_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cross.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="footnotes-and-citations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-reading_data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["data_science_book.pdf", "data_science_book.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
